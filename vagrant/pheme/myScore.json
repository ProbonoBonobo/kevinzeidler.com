["Basic semaphore operations.","$pheme = new Semaphore('pheme');",[["null","Sanity check: True assertions pass (should PASS)","true","1",true,"PASS"],["null","Sanity check: False assertions fail (should FAIL)","false","1",false,"FAIL"],["0","Create a semaphore.","isset($pheme)","1",true,"PASS"],["1","A semaphore has 3 memory registers.","$pheme->get('regA') && $pheme->get('regB') && $pheme->get('regC')","1",true,"PASS"],["2","The first register is always a string.","is_string($pheme->get('regA'))","1",true,"PASS"],["3","Always. Even when the register is empty.","$pheme->get('regA')","'theEmptyString'","theEmptyString","PASS"],["4","If the register contains 'theEmptyString', then it's empty.","$pheme->isEmpty('regA')","true",1,"PASS"],["5","The second register is a string *only* when it is empty.","$pheme->get('regB')","'theEmptyList'","theEmptyList","PASS"],["6","This is also presumed to be true for the third register.","$pheme->get('regC')","'theEmptyList'","theEmptyList","PASS"],["7","Semaphores therefore must implement the idea of 'emptiness' differently from the underlying PHP.","$pheme->isEmpty('regB')","true",1,"PASS"],["8","This should never be true.","empty($pheme->get('regB'))","false",false,"PASS"],["9","Empty semaphores are identified by a status code of 0.","statusCode($pheme)","0",0,"PASS"],["10","There is an alternate view mode that will come in handy later.","bin($pheme)","0","0","PASS"],["11","The target register is initially set to regA.","$pheme->get('currentTargetName')","'regA'","regA","PASS"],["12","Let's add something to the semaphore.","$pheme->push('add')","$pheme",false,"PASS"],["13","Semaphore pushes the value to the target register.","$pheme->get('regA')","'add'","add","PASS"],["14","Add something else to it.","$pheme->push('5')","false",false,"PASS"],["15","The value of regA remains the same.","$pheme->get(regA)","'add'","add","PASS"],["16","Why? Notice the semaphore is red. It flipped its color when we added something to it.","$pheme->get('color')","'red'","red","PASS"],["16","It also has a cool new status code.","statusCode($pheme)","2",2,"PASS"],["16","The binary view is probably more informative though:","bin($pheme)","10","10","PASS"],["17","A red semaphore must be flushed or locked before proceeding. Try locking it.","$pheme->lock()","true",true,"PASS"],["18","Successful lock operations always add 1 to the current status code.","statusCode($pheme)","true",3,"PASS"],["18","And the new binary representation thus becomes...","bin($pheme)","true","11","PASS"],["19","Lock operations also flip the color. ","$pheme->get('color')","'green'","green","PASS"],["20","We may now resume adding stuff to the semaphore.","$pheme->push('5')","true",true,"PASS"],["21","regB is an array, so we can push multiple values to it. Push another number.","$pheme->push('3289')","true",true,"PASS"],["19","Notice its color is still green, meaning you could keep going.","$pheme->get('color')","'green'","red","FAIL"],["21","Status code is different though.","statusCode($pheme)","6",6,"PASS"],["21","The decimal statusCode is derived from binary, which is derived from which of its registers have something inside. The rightmost bit corresponds to the lock bit, so it's zero.","bin($pheme)","110","110","PASS"],["21","Try locking it.","$pheme->lock()","true",true,"PASS"],["21","regB should be an array of 2 numbers","$pheme->get('regB')","true","5532893289","PASS"],["21","Now push!","$pheme->push('equals')","true",[6588],"PASS"]]]